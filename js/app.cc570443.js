(function(e){function t(t){for(var r,n,o=t[0],l=t[1],u=t[2],p=0,v=[];p<o.length;p++)n=o[p],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&v.push(i[n][0]),i[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(v.length)v.shift()();return a.push.apply(a,u||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],r=!0,o=1;o<s.length;o++){var l=s[o];0!==i[l]&&(r=!1)}r&&(a.splice(t--,1),e=n(n.s=s[0]))}return e}var r={},i={app:0},a=[];function n(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=r,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(s,r,function(t){return e[t]}.bind(null,r));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=l;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-app-bar",{attrs:{app:""}},[s("v-toolbar-title",[s("router-link",{staticClass:"pointer",attrs:{to:"/app-inquirer/",tag:"h1"}},[e._v("Inquirer")])],1),s("v-spacer"),e.user?s("h3",{staticClass:"mr-4 font-italic"},[e._v(e._s(e.user.nickname))]):e._e(),e.user?s("v-divider",{staticClass:"mr-4",attrs:{vertical:""}}):e._e(),e.user?s("v-btn",{staticClass:"mx-1",attrs:{depressed:"",to:"/app-inquirer/new"}},[e._v("+ New Survey")]):e._e(),e.user?s("v-btn",{staticClass:"mx-1",attrs:{depressed:"",to:"/app-inquirer/my",user:e.user}},[e._v("My Surveys")]):e._e(),e.user?e._e():s("app-login-reg-modal"),e.user?s("v-btn",{staticClass:"mx-1",attrs:{depressed:"",to:"/app-inquirer/"},on:{click:e.logout}},[e._v("Logout")]):e._e()],1),s("v-main",[s("router-view")],1)],1)},a=[],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{persistent:"",overlay:!1,"max-width":"500px",transition:"dialog-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[s("v-btn",e._g({staticClass:"mx-1",attrs:{depressed:""}},r),[e._v("Login")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",[s("v-tabs",[s("v-tab",[e._v("Login")]),s("v-tab",[e._v("Regestration")]),s("v-spacer"),s("v-btn",{staticClass:"mr-2 mt-2",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){e.dialog=!e.dialog}}},[s("v-icon",[e._v(" mdi-close ")])],1),s("v-tab-item",[s("v-card-text",[s("v-form",{ref:"form",attrs:{validation:""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-text-field",{attrs:{"prepend-icon":"mdi-account",name:"email",label:"Email",type:"email",rules:e.emailRules},model:{value:e.login.email,callback:function(t){e.$set(e.login,"email",t)},expression:"login.email"}}),s("v-text-field",{attrs:{"prepend-icon":"mdi-lock",name:"password",label:"Password",type:"password",counter:6,rules:e.passwordRules},model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}})],1)],1),s("v-card-actions",[s("v-spacer"),e.loginError?s("h5",{staticClass:"error--text mr-4"},[e._v(e._s(e.loginError))]):e._e(),s("v-btn",{attrs:{color:"primary",disabled:!e.valid},on:{click:e.userLogin}},[e._v("Login")])],1)],1),s("v-tab-item",[s("v-card-text",[s("v-form",{ref:"form",attrs:{validation:""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-text-field",{attrs:{"prepend-icon":"mdi-account",name:"nickname",label:"Nickname",type:"text",rules:e.nicknameRules},model:{value:e.regestration.nickname,callback:function(t){e.$set(e.regestration,"nickname",t)},expression:"regestration.nickname"}}),s("v-text-field",{attrs:{"prepend-icon":"mdi-account",name:"email",label:"Email",type:"email",rules:e.emailRules},model:{value:e.regestration.email,callback:function(t){e.$set(e.regestration,"email",t)},expression:"regestration.email"}}),s("v-text-field",{attrs:{"prepend-icon":"mdi-lock",name:"password",label:"Password",type:"password",counter:6,rules:e.passwordRules},model:{value:e.regestration.password,callback:function(t){e.$set(e.regestration,"password",t)},expression:"regestration.password"}})],1)],1),s("v-card-actions",[s("v-spacer"),e.regError?s("h5",{staticClass:"error--text mr-4"},[e._v(e._s(e.regError))]):e._e(),s("v-btn",{attrs:{color:"primary",disabled:!e.valid},on:{click:e.userRegestration}},[e._v("Regestration")])],1)],1)],1)],1)],1)},o=[],l={data:function(){return{dialog:!1,login:{email:"user1@test.com",password:"qweqwe"},regestration:{email:"",password:"",nickname:""},valid:!1,emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],passwordRules:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>=6||"Password must be equal or more than 6 characters"}],nicknameRules:[function(e){return!!e||"Nickname is required"},function(e){return e&&e.length>=4||"Nickname must more than 4 characters"}]}},methods:{userLogin:function(){var e={email:this.login.email,password:this.login.password};this.$store.dispatch("loginUser",e),this.loginError||(this.dialog=!1)},userRegestration:function(){var e={email:this.regestration.email,password:this.regestration.password,nickname:this.regestration.nickname};this.$store.dispatch("regUser",e),this.regError||(this.dialog=!1)}},computed:{loginError:function(){return this.$store.getters.loginError},regError:function(){return this.$store.getters.regError}},created:function(){"/app-inquirer/?login=false"===this.$route.fullPath&&(this.dialog=!0)}},u=l,c=s("2877"),p=s("6544"),v=s.n(p),d=s("8336"),m=s("b0af"),h=s("99d9"),f=s("169a"),y=s("4bd4"),g=s("132d"),b=s("2fa4"),q=s("71a3"),_=s("c671"),w=s("fe57"),x=s("8654"),k=Object(c["a"])(u,n,o,!1,null,null,null),C=k.exports;v()(k,{VBtn:d["a"],VCard:m["a"],VCardActions:h["a"],VCardText:h["b"],VDialog:f["a"],VForm:y["a"],VIcon:g["a"],VSpacer:b["a"],VTab:q["a"],VTabItem:_["a"],VTabs:w["a"],VTextField:x["a"]});var T={components:{appLoginRegModal:C},computed:{user:function(){return this.$store.getters.currentUser}},methods:{logout:function(){this.$store.dispatch("logoutUser")}}},V=T,R=(s("cf25"),s("7496")),S=s("40dc"),$=s("ce7e"),E=s("f6c4"),O=s("2a7f"),P=Object(c["a"])(V,i,a,!1,null,null,null),A=P.exports;v()(P,{VApp:R["a"],VAppBar:S["a"],VBtn:d["a"],VDivider:$["a"],VMain:E["a"],VSpacer:b["a"],VToolbarTitle:O["b"]});s("b0c0");var U=s("8c4f"),B=(s("4de4"),s("7db0"),s("4160"),s("c975"),s("a434"),s("159b"),s("2f62")),N=(s("45fc"),{state:{currentUser:!1,loginError:!1,regError:!1,users:[{nickname:"user1",email:"user1@test.com",password:"qweqwe",uid:0,ownwerOf:[]}],lastUid:0},mutations:{loginUser:function(e,t){var s=t.email,r=t.password,i=e.users.find((function(e){return e.email===s&&e}));i&&i.password===r?(e.currentUser=i,e.loginError=!1):e.loginError="Wrong e-mail or password"},regUser:function(e,t){var s=t.email,r=t.password,i=t.nickname,a=e.users.some((function(e){return e.email===s})),n=e.users.some((function(e){return e.nickname===i}));if(a)e.regError="User with this e-mail is allready exist";else if(n)e.regError="User with this nickname is allready exist";else if(!a&&!n){e.lastUid++;var o={nickname:i,email:s,password:r,uid:e.lastUid,ownerOf:[]};e.regError=!1,e.users.push(o),e.currentUser=o}},logoutUser:function(e){e.currentUser=!1}},actions:{loginUser:function(e,t){var s=e.commit;s("loginUser",t)},regUser:function(e,t){var s=e.commit;s("regUser",t)},logoutUser:function(e){var t=e.commit;t("logoutUser")}},getters:{currentUser:function(e){return e.currentUser},loginError:function(e){return e.loginError},regError:function(e){return e.regError}}});r["a"].use(B["a"]);var Q=new B["a"].Store({state:{surveys:[{type:"voting",name:"Best sci-fi movie",qq:["Star Wars","Star Track","Stargate"],votes:[36,21,10],votedTimes:67,participation:"public",showResultsTo:"public",reTake:!0,id:0,owner:"user1",participants:[]},{type:"poll",name:"New seasons of TV series rating",qq:[{question:"Some question 1",options:["opt 1","opt 2","opt 3","Your option"],votes:[2,3,4,1]},{question:"Some question 2",options:["opt 1","opt 2","opt 3","Your option"],votes:[2,5,2,1]},{question:"Some question 3",options:["opt 1","opt 2","opt 3","Your option"],votes:[1,3,4,2]}],opinions:[],votedTimes:10,participation:"public",showResultsTo:"private",reTake:!1,id:1,owner:"user1",participants:[]},{type:"voting",name:"Best 2020 battleroyal",qq:["Apex Legends","Call of Duty Warzone","Fortnite"],votes:[31,25,24],votedTimes:80,participation:"private",showResultsTo:"public",reTake:!1,id:2,owner:"user2",participants:[]},{type:"poll",name:"New seasons of TV series rating",qq:[{question:"Some question 1",options:["opt 1","opt 2","opt 3","Your option"],votes:[12,3,4,1]},{question:"Some question 2",options:["opt 1","opt 2","opt 3","Your option"],votes:[2,13,4,1]},{question:"Some question 3",options:["opt 1","opt 2","opt 3","Your option"],votes:[2,3,4,11]}],opinions:[],votedTimes:20,participation:"private",showResultsTo:"hide",reTake:!1,id:3,owner:"user2",participants:[]}],lastId:3},mutations:{setVoting:function(e,t){var s=t.id,r=t.answers,i=t.participant,a=e.surveys.find((function(e){return e.id===+s}));a.votes[r]++,a.votedTimes++,a.participants.push(i)},setPoll:function(e,t){for(var s=t.id,r=t.answers,i=t.opinion,a=t.participant,n=e.surveys.find((function(e){return e.id===+s})),o=0;o<n.qq.length;o++)n.qq[o].votes[r[o]]++;n.votedTimes++,i.forEach((function(e){null!==e&&n.opinions.push({quastion:n.qq[i.indexOf(e)].quastion,answer:e})})),n.participants.push(a)},newSurvey:function(e,t){if("voting"===t.type){var s=t;s.votes=[];for(var r=0;r<s.qq.length;r++)s.votes.push(0);s.votedTimes=0,e.lastId++,s.id=e.lastId,s.participants=[],e.surveys.push(s)}else if("poll"===t.type){for(var i=t,a=0;a<i.qq.length;a++){i.qq[a].options.push("Your option");for(var n=0;n<i.qq[a].options.length;n++)i.qq[a].votes.push(0)}i.votedTimes=0,e.lastId++,i.id=e.lastId,i.participants=[],e.surveys.push(i)}},deleteSurvey:function(e,t){var s=e.surveys.indexOf(t);e.surveys.splice(s,1)},updateSurvey:function(e,t){var s=t.name,r=t.qq,i=t.participation,a=t.showResultsTo,n=t.reTake,o=t.id,l=e.surveys.find((function(e){return e.id===o}));if(l.name=s,l.qq=r,l.participation=i,l.showResultsTo=a,l.reTake=n,l.votedTimes=0,"voting"===l.type){l.votes=[];for(var u=0;u<l.qq.length;u++)l.votes.push(0)}else if("poll"===l.type)for(var c=0;c<l.qq.length;c++)l.qq[c].votes.forEach((function(e,t,s){s[t]=0*e}))}},actions:{setVoting:function(e,t){var s=e.commit;s("setVoting",t)},setPoll:function(e,t){var s=e.commit;s("setPoll",t)},newSurvey:function(e,t){var s=e.commit;s("newSurvey",t)},deleteSurvey:function(e,t){var s=e.commit;s("deleteSurvey",t)},updateSurvey:function(e,t){var s=e.commit;s("updateSurvey",t)}},getters:{surveys:function(e){return e.surveys},surveyById:function(e){return function(t){return e.surveys.find((function(e){return e.id===+t}))}},surveysByNickname:function(e){return function(t){return e.surveys.filter((function(e){return e.owner===t}))}}},modules:{users:N}}),j=function(e,t,s){Q.getters.currentUser?s():s("/app-inquirer/?login=false")},I=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.loading?s("div",{staticClass:"text-center mt-6"},[s("v-progress-circular",{attrs:{indeterminate:"",size:"60"}})],1):s("v-container",{attrs:{fluid:""}},[e._l(e.surveys,(function(t){return["hide"!==t.participation||"hide"!==t.showResultsTo?s("v-hover",{key:t.id,scopedSlots:e._u([{key:"default",fn:function(r){var i=r.hover;return[s("v-card",{staticClass:"mx-auto mb-4 pointer",attrs:{elevation:i?8:2,to:"/app-inquirer/survey/"+t.id,color:"#26c6da",dark:"","max-width":"400"}},[s("v-card-title",[s("span",{staticClass:"title font-weight-light"},[e._v(e._s(t.type.toUpperCase()))]),s("v-spacer"),s("h5",{staticClass:"mr-2 yellow--text"},[e._v(e._s(t.participation))]),s("v-divider",{staticClass:"white",attrs:{vertical:""}}),s("h4",{staticClass:"ml-2 yellow--text"},[e._v(e._s(t.owner))])],1),s("v-card-text",{staticClass:"headline font-weight-bold"},[e._v(" "+e._s(t.name)+" ")])],1)]}}],null,!0)}):e._e()]}))],2)},Y=[],M={computed:{surveys:function(){return this.$store.getters.surveys}},data:function(){return{loading:!0}},created:function(){var e=this;setTimeout((function(){e.loading=!1}),500)}},D=M,L=s("a523"),W=s("ce87"),J=s("490a"),z=Object(c["a"])(D,I,Y,!1,null,null,null),F=z.exports;v()(z,{VCard:m["a"],VCardText:h["b"],VCardTitle:h["c"],VContainer:L["a"],VDivider:$["a"],VHover:W["a"],VProgressCircular:J["a"],VSpacer:b["a"]});var G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.loading?s("div",{staticClass:"text-center mt-6"},[s("v-progress-circular",{attrs:{indeterminate:"",size:"60"}})],1):s("v-container",{staticClass:"ml-4 pr-8",attrs:{fluid:""}},["public"===e.survey.participation||"private"===e.survey.participation&&e.user?s("div",["voting"===e.survey.type?[s("h1",[e._v(e._s(e.survey.name))]),s("v-radio-group",{model:{value:e.answers,callback:function(t){e.answers=t},expression:"answers"}},e._l(e.survey.qq,(function(t){return s("v-radio",{key:t,attrs:{label:t,value:e.survey.qq.indexOf(t),disabled:e.isPassed}})})),1)]:e._e(),"poll"===e.survey.type?[s("h1",[e._v(e._s(e.survey.name))]),e._l(e.survey.qq,(function(t,r){return s("div",{key:r},[s("v-divider",{staticClass:"mb-2"}),s("h3",[e._v(e._s(r+1)+". "+e._s(t.question))]),s("v-radio-group",{staticClass:"mt-2",model:{value:e.answers[r],callback:function(t){e.$set(e.answers,r,t)},expression:"answers[index]"}},e._l(t.options,(function(i){return s("v-container",{key:i,staticClass:"py-2",attrs:{fluid:""}},[s("v-radio",{attrs:{label:i,value:t.options.indexOf(i),disabled:e.isPassed}}),t.options.indexOf(i)===t.options.length-1?s("v-textarea",{attrs:{disabled:e.answers[r]!==t.options.length-1||e.isPassed,solo:"","no-resize":"",height:"80",label:"Type the answer"},model:{value:e.opinion[r],callback:function(t){e.$set(e.opinion,r,t)},expression:"opinion[index]"}}):e._e()],1)})),1)],1)}))]:e._e(),s("v-btn",{staticClass:"success mb-8",attrs:{disabled:e.isAnswered||e.isPassed},on:{click:e.confirmVote}},[e._v("Confirm")]),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.survey.reTake&&e.isPassedByAnon,expression:"survey.reTake && isPassedByAnon"}],staticClass:"warning ml-2 mb-8",on:{click:e.reTake}},[e._v("Retake survey")])],2):s("div",{staticClass:"my-2"},["hide"===e.survey.participation?s("h2",{staticClass:"error"},[e._v("The opportunity to take part in this survey is closed for now")]):s("h2",{staticClass:"error"},[e._v("You need login to take part in this survey")])]),s("v-divider"),"public"===e.survey.showResultsTo||"private"===e.survey.showResultsTo&&e.user?s("div",["voting"===e.survey.type?s("v-expansion-panels",{staticClass:"mt-8"},[s("v-expansion-panel",[s("v-expansion-panel-header",{staticClass:"text-h6"},[e._v(" Results ")]),e._l(e.results,(function(t,r){return s("v-expansion-panel-content",{key:r},[s("h4",[e._v(e._s(e.survey.qq[r]))]),s("v-progress-linear",{attrs:{value:e.results[r],height:"20"}},[s("strong",[e._v(e._s(t)+"%")])])],1)}))],2)],1):e._e(),"poll"===e.survey.type?s("v-expansion-panels",{staticClass:"mt-8"},[s("v-expansion-panel",[s("v-expansion-panel-header",{staticClass:"text-h6"},[e._v(" Results ")]),e._l(e.survey.qq,(function(t,r){return s("v-expansion-panel-content",{key:r},[s("h3",{staticClass:"text-decoration-underline mt-4"},[e._v(e._s(r+1)+". "+e._s(t.question))]),e._l(e.results[r],(function(r,i){return s("div",{key:i},[s("h4",[e._v(e._s(t.options[i]))]),s("v-progress-linear",{attrs:{height:"20",value:r}},[s("strong",[e._v(e._s(r)+"%")])])],1)}))],2)}))],2)],1):e._e()],1):s("div",{staticClass:"my-2"},["hide"===e.survey.showResultsTo?s("h2",{staticClass:"error"},[e._v("The opportunity to see results of this survey is closed for now")]):s("h2",{staticClass:"error"},[e._v("You need login to see results of this survey")])])],1)},H=[],K={props:["id"],computed:{survey:function(){return this.$store.getters.surveyById(this.id)},user:function(){return this.$store.getters.currentUser},results:function(){var e=[],t=this.survey.votedTimes;if("voting"===this.survey.type){for(var s=0,r=this.survey.votes,i=0;i<r.length;i++)e.push(Math.round(100/t*r[i])),s+=e[i];99===s?e[0]+=1:101===s&&(e[0]-=1)}if("poll"===this.survey.type)for(var a=this.survey.qq,n=0;n<a.length;n++){for(var o=0,l=[],u=0;u<a[n].votes.length;u++)l.push(Math.round(100/t*a[n].votes[u])),o+=l[u];99===o?l[0]+=1:101===o&&(l[0]-=1),e.push(l)}return e},isAnswered:function(){var e;return"voting"===this.survey.type&&(e=0===this.answers.length),"poll"===this.survey.type&&(e=this.answers.some((function(e){return null===e}))),e},isPassed:function(){var e,t=this.user;return t?(e=this.survey.participants.some((function(e){return e===t.nickname})),e&&this.isPassedByAnon):this.isPassedByAnon}},data:function(){return{answers:[],opinion:[],isPassedByAnon:!1,loading:!0}},methods:{reTake:function(){this.isPassedByAnon=!1},confirmVote:function(){this.isPassedByAnon=!0,"voting"===this.survey.type&&this.$store.dispatch("setVoting",{id:this.id,answers:this.answers,participant:this.user.nickname||"anonymous"}),"poll"===this.survey.type&&this.$store.dispatch("setPoll",{id:this.id,answers:this.answers,opinion:this.opinion,participant:this.user.nickname||"anonymous"})}},created:function(){var e=this,t=this.survey;if("poll"===t.type)for(var s=0;s<t.qq.length;s++)this.answers.push(null),this.opinion.push(null);setTimeout((function(){e.loading=!1}),500)}},X=K,Z=s("cd55"),ee=s("49e2"),te=s("c865"),se=s("0393"),re=s("8e36"),ie=s("67b6"),ae=s("43a6"),ne=s("a844"),oe=Object(c["a"])(X,G,H,!1,null,null,null),le=oe.exports;v()(oe,{VBtn:d["a"],VContainer:L["a"],VDivider:$["a"],VExpansionPanel:Z["a"],VExpansionPanelContent:ee["a"],VExpansionPanelHeader:te["a"],VExpansionPanels:se["a"],VProgressCircular:J["a"],VProgressLinear:re["a"],VRadio:ie["a"],VRadioGroup:ae["a"],VTextarea:ne["a"]});var ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{staticClass:"ml-4 pr-8",attrs:{fluid:""}},[s("h1",[e._v("New survey")]),s("v-divider",{staticClass:"primary"}),s("h2",{staticClass:"mt-4 pl-4 blue lighten-5 primary--text"},[e._v("Type")]),s("v-radio-group",{staticClass:"mt-2",model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[s("v-radio",{attrs:{label:"Voting",value:"voting"}}),s("v-radio",{attrs:{label:"Poll",value:"poll"}})],1),""!==e.type?s("div",["voting"===e.type?s("div",[s("h2",{staticClass:"mt-14 pl-4 blue lighten-5 primary--text"},[e._v("Title")]),s("v-text-field",{staticClass:"yellow lighten-4 px-2",attrs:{label:"Question or theme of voiting",rules:e.rules},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),s("h2",{staticClass:"mt-14 pl-4 blue lighten-5 primary--text"},[e._v("Answer options")]),e._l(e.qqv,(function(t,r){return s("v-text-field",{key:r,staticClass:"px-2 blue lighten-5",attrs:{label:"Answer "+(r+1),rules:e.rules},model:{value:e.qqv[r],callback:function(t){e.$set(e.qqv,r,t)},expression:"qqv[index]"}})})),s("v-btn",{staticClass:"mr-4 mt-2 success",attrs:{depressed:"",tile:""},on:{click:e.addOption}},[e._v("Add answer")]),e.qqv.length>2?s("v-btn",{staticClass:"mt-2 error",attrs:{depressed:"",tile:""},on:{click:e.removeOption}},[e._v("Remove answer")]):e._e()],2):e._e(),"poll"===e.type?s("div",[s("h2",{staticClass:"mt-14 pl-4 blue lighten-5 primary--text"},[e._v("Title")]),s("v-text-field",{staticClass:"px-2 yellow lighten-4",attrs:{label:"Theme of poll",rules:e.rules},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),s("h2",{staticClass:"mt-14 mb-6 pl-4 blue lighten-5 primary--text"},[e._v("Questions")]),s("v-tabs",{attrs:{vertical:"","background-color":"blue lighten-5"}},[e._l(e.qqp,(function(t,r){return s("v-tab",{key:r},[e._v(" Question "+e._s(r+1)+" ")])})),e._l(e.qqp,(function(t,r){return s("v-tab-item",{key:r,staticClass:"ml-4"},[s("v-text-field",{staticClass:"mt-0 px-2 yellow lighten-4",attrs:{label:"Question",rules:e.rules},model:{value:t.question,callback:function(s){e.$set(t,"question",s)},expression:"q.question"}}),e._l(t.options,(function(r,i){return s("v-text-field",{key:i,staticClass:"mt-2 px-2 blue lighten-5",attrs:{label:"Answer "+(i+1),rules:e.rules},model:{value:t.options[i],callback:function(s){e.$set(t.options,i,s)},expression:"q.options[index]"}})})),s("v-text-field",{staticClass:"mt-2 px-2 blue lighten-5",attrs:{disabled:"",label:"User opinion (always in poll)"}}),s("v-btn",{staticClass:"mt-2 success",attrs:{depressed:"",tile:"",small:""},on:{click:function(t){return e.addOption(r)}}},[e._v("Add answer")]),t.options.length>2?s("v-btn",{staticClass:"ml-4 mt-2 error",attrs:{depressed:"",tile:"",small:""},on:{click:function(t){return e.removeOption(r)}}},[e._v("Remove answer")]):e._e(),s("v-divider",{staticClass:"primary mt-2"})],2)}))],2),s("div",{staticClass:"mt-2"},[s("v-row",[s("v-btn",{staticClass:"ml-3 mr-2 success",attrs:{depressed:"",tile:"",small:""},on:{click:e.addQuestion}},[e._v("Add Question")])],1),s("v-row",[e.qqp.length>2?s("v-btn",{staticClass:"mt-2 ml-3 error",attrs:{depressed:"",tile:"",small:"",width:"123"},on:{click:e.removeQuestion}},[e._v("Remove Quest.")]):e._e()],1)],1)],1):e._e(),s("div",[s("h2",{staticClass:"mt-14 pl-4 blue lighten-5 primary--text"},[e._v("Access rules")]),s("h3",[e._v("Who can participate the survey")]),s("v-radio-group",{staticClass:"mt-2",model:{value:e.participation,callback:function(t){e.participation=t},expression:"participation"}},[s("v-radio",{attrs:{label:"Everyone",value:"public"}}),s("v-radio",{attrs:{label:"Only registered",value:"private"}}),s("v-radio",{attrs:{label:"Nobody",value:"hide"}})],1),s("h3",[e._v("Who can see results of the survey")]),s("v-radio-group",{staticClass:"mt-2",model:{value:e.showResultsTo,callback:function(t){e.showResultsTo=t},expression:"showResultsTo"}},[s("v-radio",{attrs:{label:"Everyone",value:"public"}}),s("v-radio",{attrs:{label:"Only registered",value:"private"}}),s("v-radio",{attrs:{label:"Nobody",value:"hide"}})],1),s("h3",[e._v("Allowed to participate in the survey again?")]),s("v-radio-group",{staticClass:"mt-2",model:{value:e.reTake,callback:function(t){e.reTake=t},expression:"reTake"}},[s("v-radio",{attrs:{label:"Yes",value:!0}}),s("v-radio",{attrs:{label:"No",value:!1}})],1)],1),s("v-btn",{staticClass:"mr-4",attrs:{color:"success",disabled:!e.isValid},on:{click:e.createSurvey}},[e._v("Create survey")])],1):e._e()],1)},ce=[],pe={data:function(){return{type:"",name:"",qqv:["",""],qqp:[{question:"",options:["",""],votes:[]},{question:"",options:["",""],votes:[]}],participation:"public",showResultsTo:"public",reTake:!1,rules:[function(e){return!!e||"Required."}]}},methods:{addOption:function(e){"voting"===this.type&&this.qqv.push(""),"poll"===this.type&&this.qqp[e].options.push("")},addQuestion:function(){this.qqp.push({question:"",options:["",""],votes:[]})},removeOption:function(e){"voting"===this.type&&this.qqv.pop(),"poll"===this.type&&this.qqp[e].options.pop()},removeQuestion:function(){this.qqp.pop()},createSurvey:function(){if("voting"===this.type){var e={type:this.type,name:this.name,qq:this.qqv,participation:this.participation,showResultsTo:this.showResultsTo,reTake:this.reTake,owner:this.user.nickname};this.$store.dispatch("newSurvey",e)}else if("poll"===this.type){var t={type:this.type,name:this.name,qq:this.qqp,participation:this.participation,showResultsTo:this.showResultsTo,reTake:this.reTake,owner:this.user.nickname};this.$store.dispatch("newSurvey",t)}this.$router.push("/app-inquirer/my")}},computed:{isValid:function(){var e;return"voting"===this.type&&(e=this.qqv.some((function(e){return""===e}))),"poll"===this.type&&(e=this.qqp.some((function(e){return""===e.question||e.options.some((function(e){return""===e}))}))),!e&&""!==this.name},user:function(){return this.$store.getters.currentUser}}},ve=pe,de=s("0fd9"),me=Object(c["a"])(ve,ue,ce,!1,null,null,null),he=me.exports;v()(me,{VBtn:d["a"],VContainer:L["a"],VDivider:$["a"],VRadio:ie["a"],VRadioGroup:ae["a"],VRow:de["a"],VTab:q["a"],VTabItem:_["a"],VTabs:w["a"],VTextField:x["a"]});var fe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.loading?s("div",{staticClass:"text-center mt-6"},[s("v-progress-circular",{attrs:{indeterminate:"",size:"60"}})],1):s("v-container",{attrs:{fluid:""}},[s("h1",[e._v("My surveys")]),e._l(e.surveys,(function(t){return[s("v-hover",{key:t.id,scopedSlots:e._u([{key:"default",fn:function(r){var i=r.hover;return[s("v-card",{staticClass:"mx-auto mb-4 pointer",attrs:{elevation:i?8:2,color:"#26c6da",dark:"","max-width":"400"}},[s("v-card-title",{on:{click:function(s){return e.route(t.id)}}},[s("span",{staticClass:"title font-weight-light"},[e._v(e._s(t.type.toUpperCase()))]),s("v-spacer"),s("h4",{staticClass:"ml-2 yellow--text"},[e._v(e._s(t.owner))])],1),s("v-card-text",{staticClass:"headline font-weight-bold",on:{click:function(s){return e.route(t.id)}}},[e._v(" "+e._s(t.name)+" ")]),s("v-card-actions",[s("v-spacer"),s("app-ask-delete-modal",{attrs:{id:t.id}}),s("app-edit-modal",{attrs:{id:t.id}})],1)],1)]}}],null,!0)})]}))],2)},ye=[],ge=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{persistent:"","max-width":"420"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[s("v-btn",e._g({attrs:{depressed:"",small:"",color:"error"}},r),[e._v("Delete")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",[s("v-card-title",{staticClass:"title red lighten-3"},[e._v(" Are you sure want to delete this survey? ")]),s("v-card-text",{staticClass:"mt-2"},[e._v("All data about "),s("span",{staticClass:"blue--text font-weight-bold"},[e._v(e._s(e.survey.name))]),e._v(" will be lost.")]),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"error",text:""},on:{click:e.deleteSurvey}},[e._v("Yes")]),s("v-btn",{attrs:{color:"error",text:""},on:{click:function(t){e.dialog=!e.dialog}}},[e._v("No")])],1)],1)],1)},be=[],qe={props:["id"],data:function(){return{dialog:!1}},computed:{survey:function(){return this.$store.getters.surveyById(this.id)}},methods:{deleteSurvey:function(){this.$store.dispatch("deleteSurvey",this.survey)}}},_e=qe,we=Object(c["a"])(_e,ge,be,!1,null,null,null),xe=we.exports;v()(we,{VBtn:d["a"],VCard:m["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VDialog:f["a"],VSpacer:b["a"]});var ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{"hide-overlay":"",fullscreen:"",transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[s("v-btn",e._g({attrs:{depressed:"",small:"",color:"yellow mx-2"}},r),[e._v("Edit")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",[s("v-toolbar",{attrs:{dark:"",color:"yellow darken-1"}},[s("v-btn",{attrs:{icon:"",dark:""},on:{click:e.cancel}},[s("v-icon",[e._v("mdi-close")])],1),s("v-toolbar-title",[e._v("Editing")]),s("v-spacer"),s("v-toolbar-items",[s("v-btn",{attrs:{dark:"",text:"",disabled:!e.isValid},on:{click:e.save}},[e._v("Save")])],1)],1),s("v-container",[s("h4",{staticClass:"error--text"},[e._v("Survey results will be reset after saving")]),"voting"===e.legacy.type?s("div",[s("h2",{staticClass:"mt-10 pl-4 blue lighten-5 primary--text"},[e._v("Title")]),s("v-text-field",{staticClass:"yellow lighten-4 px-2",attrs:{label:"Question or theme of voiting",rules:e.rules},model:{value:e.legacy.name,callback:function(t){e.$set(e.legacy,"name",t)},expression:"legacy.name"}}),s("h2",{staticClass:"mt-14 pl-4 blue lighten-5 primary--text"},[e._v("Answer options")]),e._l(e.legacy.qq,(function(t,r){return s("v-text-field",{key:r,staticClass:"px-2 blue lighten-5",attrs:{label:"Answer "+(r+1),rules:e.rules},model:{value:e.legacy.qq[r],callback:function(t){e.$set(e.legacy.qq,r,t)},expression:"legacy.qq[index]"}})})),s("v-btn",{staticClass:"mr-4 mt-2 success",attrs:{depressed:"",tile:""},on:{click:e.addOption}},[e._v("Add answer")]),e.legacy.qq.length>2?s("v-btn",{staticClass:"mt-2 error",attrs:{depressed:"",tile:""},on:{click:e.removeOption}},[e._v("Remove answer")]):e._e()],2):e._e(),"poll"===e.legacy.type?s("div",[s("h2",{staticClass:"mt-10 pl-4 blue lighten-5 primary--text"},[e._v("Title")]),s("v-text-field",{staticClass:"px-2 yellow lighten-4",attrs:{label:"Theme of poll",rules:e.rules},model:{value:e.legacy.name,callback:function(t){e.$set(e.legacy,"name",t)},expression:"legacy.name"}}),s("h2",{staticClass:"mt-14 mb-6 pl-4 blue lighten-5 primary--text"},[e._v("Questions")]),s("v-tabs",{attrs:{vertical:"","background-color":"blue lighten-5"}},[e._l(e.legacy.qq,(function(t,r){return s("v-tab",{key:r},[e._v(" Question "+e._s(r+1)+" ")])})),e._l(e.legacy.qq,(function(t,r){return s("v-tab-item",{key:r,staticClass:"ml-4"},[s("v-text-field",{staticClass:"mt-0 px-2 yellow lighten-4",attrs:{label:"Question",rules:e.rules},model:{value:t.question,callback:function(s){e.$set(t,"question",s)},expression:"q.question"}}),e._l(t.options,(function(r,i){return s("v-text-field",{key:i,staticClass:"mt-2 px-2 blue lighten-5",attrs:{label:"Answer "+(i+1),rules:e.rules},model:{value:t.options[i],callback:function(s){e.$set(t.options,i,s)},expression:"q.options[index]"}})})),s("v-text-field",{staticClass:"mt-2 px-2 blue lighten-5",attrs:{disabled:"",label:"User opinion (always in poll)"}}),s("v-btn",{staticClass:"mt-2 success",attrs:{depressed:"",tile:"",small:""},on:{click:function(t){return e.addOption(r)}}},[e._v("Add answer")]),t.options.length>2?s("v-btn",{staticClass:"ml-4 mt-2 error",attrs:{depressed:"",tile:"",small:""},on:{click:function(t){return e.removeOption(r)}}},[e._v("Remove answer")]):e._e(),s("v-divider",{staticClass:"primary mt-2"})],2)}))],2),s("div",{staticClass:"mt-2"},[s("v-row",[s("v-btn",{staticClass:"ml-3 mr-2 success",attrs:{depressed:"",tile:"",small:""},on:{click:e.addQuestion}},[e._v("Add Question")])],1),s("v-row",[e.legacy.qq.length>2?s("v-btn",{staticClass:"mt-2 ml-3 error",attrs:{depressed:"",tile:"",small:"",width:"123"},on:{click:e.removeQuestion}},[e._v("Remove Quest.")]):e._e()],1)],1)],1):e._e(),s("div",[s("h2",{staticClass:"mt-14 pl-4 blue lighten-5 primary--text"},[e._v("Access rules")]),s("h3",[e._v("Who can participate the survey")]),s("v-radio-group",{staticClass:"mt-2",model:{value:e.legacy.participation,callback:function(t){e.$set(e.legacy,"participation",t)},expression:"legacy.participation"}},[s("v-radio",{attrs:{label:"Everyone",value:"public"}}),s("v-radio",{attrs:{label:"Only registered",value:"private"}}),s("v-radio",{attrs:{label:"Nobody",value:"hide"}})],1),s("h3",[e._v("Who can see results of the survey")]),s("v-radio-group",{staticClass:"mt-2",model:{value:e.legacy.showResultsTo,callback:function(t){e.$set(e.legacy,"showResultsTo",t)},expression:"legacy.showResultsTo"}},[s("v-radio",{attrs:{label:"Everyone",value:"public"}}),s("v-radio",{attrs:{label:"Only registered",value:"private"}}),s("v-radio",{attrs:{label:"Nobody",value:"hide"}})],1),s("h3",[e._v("Allowed to participate in the survey again?")]),s("v-radio-group",{staticClass:"mt-2",model:{value:e.legacy.reTake,callback:function(t){e.$set(e.legacy,"reTake",t)},expression:"legacy.reTake"}},[s("v-radio",{attrs:{label:"Yes",value:!0}}),s("v-radio",{attrs:{label:"No",value:!1}})],1)],1)])],1)],1)},Ce=[],Te={props:["id"],data:function(){return{dialog:!1,legacy:{},rules:[function(e){return!!e||"Required."}]}},computed:{survey:function(){return this.$store.getters.surveyById(this.id)},isValid:function(){var e;return"voting"===this.legacy.type&&(e=this.legacy.qq.some((function(e){return""===e}))),"poll"===this.legacy.type&&(e=this.legacy.qq.some((function(e){return""===e.question||e.options.some((function(e){return""===e}))}))),!e&&""!==this.legacy.name}},methods:{cancel:function(){if(this.legacy=JSON.parse(JSON.stringify(this.survey)),"poll"===this.legacy.type)for(var e=0;e<this.legacy.qq.length;e++)this.legacy.qq[e].options.pop();this.dialog=!1},save:function(){if("poll"===this.legacy.type)for(var e=0;e<this.legacy.qq.length;e++)this.legacy.qq[e].options.push("Your option");this.$store.dispatch("updateSurvey",{name:this.legacy.name,qq:this.legacy.qq,participation:this.legacy.participation,showResultsTo:this.legacy.showResultsTo,reTake:this.legacy.reTake,id:this.legacy.id}),this.dialog=!1},addOption:function(e){"voting"===this.legacy.type&&this.legacy.qq.push(""),"poll"===this.legacy.type&&(this.legacy.qq[e].options.push(""),this.legacy.qq[e].votes.push(0))},addQuestion:function(){this.legacy.qq.push({question:"",options:["",""],votes:[0,0]})},removeOption:function(e){"voting"===this.legacy.type&&this.legacy.qq.pop(),"poll"===this.legacy.type&&(this.legacy.qq[e].options.pop(),this.legacy.qq[e].votes.pop())},removeQuestion:function(){this.legacy.qq.pop()}},created:function(){if(this.legacy=JSON.parse(JSON.stringify(this.survey)),"poll"===this.legacy.type)for(var e=0;e<this.legacy.qq.length;e++)this.legacy.qq[e].options.pop()}},Ve=Te,Re=s("71d9"),Se=Object(c["a"])(Ve,ke,Ce,!1,null,null,null),$e=Se.exports;v()(Se,{VBtn:d["a"],VCard:m["a"],VContainer:L["a"],VDialog:f["a"],VDivider:$["a"],VIcon:g["a"],VRadio:ie["a"],VRadioGroup:ae["a"],VRow:de["a"],VSpacer:b["a"],VTab:q["a"],VTabItem:_["a"],VTabs:w["a"],VTextField:x["a"],VToolbar:Re["a"],VToolbarItems:O["a"],VToolbarTitle:O["b"]});var Ee={components:{AppAskDeleteModal:xe,AppEditModal:$e},computed:{user:function(){return this.$store.getters.currentUser},surveys:function(){return this.$store.getters.surveysByNickname(this.user.nickname)}},methods:{route:function(e){this.$router.push("/app-inquirer/survey/"+e)}},data:function(){return{loading:!0}},created:function(){var e=this;setTimeout((function(){e.loading=!1}),500)}},Oe=Ee,Pe=Object(c["a"])(Oe,fe,ye,!1,null,null,null),Ae=Pe.exports;v()(Pe,{VCard:m["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VContainer:L["a"],VHover:W["a"],VProgressCircular:J["a"],VSpacer:b["a"]}),r["a"].use(U["a"]);var Ue=[{path:"/app-inquirer/",name:"home",component:F},{path:"/app-inquirer/survey/:id",props:!0,name:"survey",component:le},{path:"/app-inquirer/new",name:"new",component:he,beforeEnter:j},{path:"/app-inquirer/my",props:!0,name:"my",component:Ae,beforeEnter:j}],Be=new U["a"]({mode:"history",base:"/",routes:Ue,scrollBehavior:function(e,t,s){return"survey"===e.name||"home"===e.name?{x:0,y:0}:s}}),Ne=Be,Qe=s("f309");r["a"].use(Qe["a"]);var je=new Qe["a"]({});r["a"].config.productionTip=!1,new r["a"]({router:Ne,store:Q,vuetify:je,render:function(e){return e(A)}}).$mount("#app")},cf25:function(e,t,s){"use strict";s("fea6")},fea6:function(e,t,s){}});
//# sourceMappingURL=app.cc570443.js.map